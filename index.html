<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Simulador Claro Up – V3.0</title>
<style>
:root{
  --claro-red:#e60000; --claro-red-dark:#c80000;
  --bg:#f8f9fa; --card:#fff; --text:#111827; --muted:#64748b;
  --border:#e2e8f0; --shadow:0 4px 6px -1px rgba(0,0,0,0.1); --radius:16px;
  /* Cores dos Setores */
  --c-plano:#f0f7ff; --c-troca:#f0fff4; --c-oferta:#fff5f5; --c-outros:#fffbeb; --c-acessorios:#f8fafc;
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,sans-serif;background:var(--bg);color:var(--text);line-height:1.5}
.topbar{background:var(--claro-red);color:#fff;padding:16px;position:sticky;top:0;z-index:100;box-shadow:0 4px 12px rgba(230,0,0,0.2)}
.topbar .row{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:center}
.brand{font-weight:800;font-size:1.2rem;display:flex;align-items:center;gap:8px}

main{max-width:1200px;margin:20px auto;padding:0 16px;display:grid;grid-template-columns:1fr;gap:20px}
@media(min-width:1024px){ main{grid-template-columns:1.1fr 0.9fr} }

.sector-card{border-radius:var(--radius);border:1px solid var(--border);margin-bottom:16px;overflow:hidden;background:var(--card);box-shadow:var(--shadow)}
.sector-hd{padding:12px 16px;font-weight:800;font-size:14px;text-transform:uppercase;letter-spacing:0.5px;border-bottom:1px solid rgba(0,0,0,0.05)}
.sector-bd{padding:16px}

/* Cores específicas */
.s-plano{background:var(--c-plano)}.s-plano .sector-hd{color:#0284c7}
.s-troca{background:var(--c-troca)}.s-troca .sector-hd{color:#16a34a}
.s-oferta{background:var(--c-oferta)}.s-oferta .sector-hd{color:var(--claro-red)}
.s-outros{background:var(--c-outros)}.s-outros .sector-hd{color:#d97706}
.s-acessorios{background:var(--c-acessorios)}.s-acessorios .sector-hd{color:#475569}

.field-group{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:12px}
@media(max-width:600px){ .field-group{grid-template-columns:1fr} }

.field{display:flex;flex-direction:column;gap:4px}
label{font-size:11px;font-weight:700;color:var(--muted);text-transform:uppercase}
input, select, textarea{padding:10px;border:1px solid var(--border);border-radius:8px;font-size:15px;width:100%}
input:focus{outline:none;border-color:var(--claro-red);ring:2px solid rgba(230,0,0,0.1)}

.acessorio-row{display:flex;gap:8px;margin-bottom:8px;align-items:center}
.btn-plus{background:var(--claro-red);color:#fff;border:none;border-radius:50%;width:28px;height:28px;cursor:pointer;font-weight:bold}

.total-box{margin-top:10px;padding-top:10px;border-top:1px dashed #cbd5e1;display:flex;justify-content:space-between;font-weight:800}

/* Cards de Resultado (Direita) */
.res-card{background:#fff;border-radius:var(--radius);padding:16px;border:2px solid var(--claro-red);position:sticky;top:80px}
.kpi-grid{display:grid;grid-template-columns:1fr;gap:10px}
.kcard{padding:12px;border-bottom:1px solid var(--border)}
.kcard:last-child{border:none}
.k-val{font-size:22px;font-weight:900;color:var(--claro-red)}

.footer-info{grid-column:1/-1;background:#fff;padding:20px;border-radius:var(--radius);border:1px solid var(--border);text-align:center}
.btn-copy{background:#25d366;color:#fff;border:none;padding:14px 24px;border-radius:999px;font-weight:800;cursor:pointer;width:100%;max-width:300px;margin-bottom:15px}
.timestamp{font-size:12px;color:var(--muted);margin-top:10px}
</style>
</head>
<body>

<div class="topbar">
    <div class="row">
        <div class="brand">Claro Up – Simulador V3.0</div>
        <div id="liveClock" style="font-size: 13px; opacity: 0.8;"></div>
    </div>
</div>

<main>
    <div class="inputs-column">
        
        <div class="sector-card s-plano">
            <div class="sector-hd">Plano Atual do Cliente</div>
            <div class="sector-bd">
                <div class="field" style="margin-bottom:12px">
                    <label>Plano Atual (texto)</label>
                    <input id="planoAtualNome" type="text" placeholder="Ex: Claro Multi 50GB">
                </div>
                <div class="field-group">
                    <div class="field"><label>Preço Plano (R$)</label><input id="planoAtualPreco" inputmode="decimal"></div>
                    <div class="field"><label>Dep. Pagos (Qtd)</label><input id="depPagos" type="number"></div>
                    <div class="field"><label>Dep. Grátis (Qtd)</label><input id="depGratis" type="number"></div>
                    <div class="field"><label>Seguro Atual (R$)</label><input id="seguroInteresse" inputmode="decimal"></div>
                    <div class="field"><label>Claro Clube (Abatimento R$)</label><input id="claroClube" inputmode="decimal"></div>
                    <div class="field"><label>Total Plano Atual</label><input id="totalPlanoAtual" readonly style="background:#f1f5f9; font-weight:bold"></div>
                </div>
            </div>
        </div>

        <div class="sector-card s-troca">
            <div class="sector-hd">Troca Fone</div>
            <div class="sector-bd">
                <div class="field-group">
                    <div class="field"><label>Modelo Aparelho Troca</label><input id="modeloTroca" type="text" placeholder="Ex: iPhone 13"></div>
                    <div class="field"><label>Incentivo Troca (R$)</label><input id="incentivoTroca" inputmode="decimal"></div>
                </div>
            </div>
        </div>

        <div class="sector-card s-oferta">
            <div class="sector-hd">Valores de Aparelho (Claro Up)</div>
            <div class="sector-bd">
                <div class="field" style="margin-bottom:12px">
                    <label>Modelo do iPhone Ofertado</label>
                    <select id="modeloOferta">
                        <option value="">Selecione um modelo...</option>
                        <optgroup label="iPhone 17">
                            <option>iPhone 17 256GB</option><option>iPhone 17 512GB</option>
                        </optgroup>
                        <optgroup label="iPhone Air">
                            <option>iPhone Air 256GB</option><option>iPhone Air 512GB</option><option>iPhone Air 1TB</option>
                        </optgroup>
                        <optgroup label="iPhone 17 Pro">
                            <option>iPhone 17 Pro 256GB</option><option>iPhone 17 Pro 512GB</option><option>iPhone 17 Pro 1TB</option>
                        </optgroup>
                        <optgroup label="iPhone 17 Pro Max">
                            <option>iPhone 17 Pro Max 256GB</option><option>iPhone 17 Pro Max 512GB</option><option>iPhone 17 Pro Max 1TB</option><option>iPhone 17 Pro Max 2TB</option>
                        </optgroup>
                    </select>
                </div>
                <div class="field-group">
                    <div class="field"><label>Pré-pago Total (R$)</label><input id="prePagoTotal" inputmode="decimal"></div>
                    <div class="field"><label>Multi Total (R$)</label><input id="multiTotal" inputmode="decimal"></div>
                    <div class="field"><label>Multi + Claro Up (R$)</label><input id="claroUpTotal" inputmode="decimal"></div>
                    <div class="field"><label>Residual Up (R$)</label><input id="residual" inputmode="decimal"></div>
                    <div class="field"><label>Parcel
